{"version":3,"sources":["webpack:///C:/Users/xch752/Downloads/hoda/pages/message/ChatRoom.vue?2ecd","webpack:///C:/Users/xch752/Downloads/hoda/pages/message/ChatRoom.vue?b41e","webpack:///C:/Users/xch752/Downloads/hoda/pages/message/ChatRoom.vue?1d9d","webpack:///C:/Users/xch752/Downloads/hoda/pages/message/ChatRoom.vue?5b9b","webpack:///C:/Users/xch752/Downloads/hoda/pages/message/ChatRoom.vue","webpack:///C:/Users/xch752/Downloads/hoda/pages/message/ChatRoom.vue?93ec"],"names":["__webpack_require__","r","__webpack_exports__","_ChatRoom_vue_vue_type_template_id_6ce13673_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_ChatRoom_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__","__WEBPACK_IMPORT_KEY__","key","d","_HBuilderX_2_2_2_20190816_full_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__","component","Object","options","__file","_HBuilderX_2_2_2_20190816_full_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_HBuilderX_2_2_2_20190816_full_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_17_0_HBuilderX_2_2_2_20190816_full_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_HBuilderX_2_2_2_20190816_full_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_HBuilderX_2_2_2_20190816_full_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_ChatRoom_vue_vue_type_template_id_6ce13673_scoped_true___WEBPACK_IMPORTED_MODULE_0__","render","staticRenderFns","_h","this","$createElement","_self","_c","_withStripped","_HBuilderX_2_2_2_20190816_full_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_HBuilderX_2_2_2_20190816_full_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_HBuilderX_2_2_2_20190816_full_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_HBuilderX_2_2_2_20190816_full_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_HBuilderX_2_2_2_20190816_full_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_ChatRoom_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__","_HBuilderX_2_2_2_20190816_full_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_HBuilderX_2_2_2_20190816_full_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_HBuilderX_2_2_2_20190816_full_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_HBuilderX_2_2_2_20190816_full_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_HBuilderX_2_2_2_20190816_full_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_ChatRoom_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0___default","n","_globalVariable","data","height","scrollTop","old","InputBottom","fromNick","userId","msgList","body","flag","avatar","myAvatar","isChat","second","sex","showSend","onLoad","option","console","log","timeStamp","common","uni","setNavigationBarTitle","title","isChatRoom","nim","resetSessionUnread","concat","initHistoryChat","myInfo","onUnload","clearInterval","onShow","length","methods","scroll","e","detail","InputFocus","InputBlur","THAT","msgs","map","cur","index","to","JSON","parse","stringify","i","time","show","calcTimeHeader","setInterval","setTimeout","pageScrollTo","duration","sendMSG","sendText","scene","text","done","error","msg","type","idClient","ind","push","sessionId","timetag","Date","valueOf","showModal","content","success","res","confirm","navigateTo","url","cancel","second_time","parseInt","min","hour","_HBuilderX_2_2_2_20190816_full_HBuilderX_plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_HBuilderX_2_2_2_20190816_full_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_6_oneOf_1_1_HBuilderX_2_2_2_20190816_full_HBuilderX_plugins_uniapp_cli_node_modules_css_loader_index_js_ref_6_oneOf_1_2_HBuilderX_2_2_2_20190816_full_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_loaders_stylePostLoader_js_HBuilderX_2_2_2_20190816_full_HBuilderX_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_HBuilderX_2_2_2_20190816_full_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_HBuilderX_2_2_2_20190816_full_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_ChatRoom_vue_vue_type_style_index_0_id_6ce13673_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","_HBuilderX_2_2_2_20190816_full_HBuilderX_plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_HBuilderX_2_2_2_20190816_full_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_6_oneOf_1_1_HBuilderX_2_2_2_20190816_full_HBuilderX_plugins_uniapp_cli_node_modules_css_loader_index_js_ref_6_oneOf_1_2_HBuilderX_2_2_2_20190816_full_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_loaders_stylePostLoader_js_HBuilderX_2_2_2_20190816_full_HBuilderX_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_HBuilderX_2_2_2_20190816_full_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_HBuilderX_2_2_2_20190816_full_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_ChatRoom_vue_vue_type_style_index_0_id_6ce13673_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default"],"mappings":";;;;2DAAAA,EAAAC,EAAAC,GAAA,IAAAC,EAAAH,kEAAA,IAAAI,EAAAJ,gDAAA,YAAAK,KAAAD,EAAA,YAAAC,GAAA,SAAAC,GAAAN,EAAAO,EAAAL,EAAAI,EAAA,kBAAAF,EAAAE,KAAA,CAAAD,GAAAL,gFAAA,QAAAQ,EAAAR,uIAAA,IAQAS,EAAgBC,OAAAF,EAAA,QAAAE,CACdN,EAAA,QACAD,EAAA,OACAA,EAAA,iBACF,EACA,KACA,WACA,MAuBAM,EAAAE,QAAAC,OAAA,kCACeV,EAAA,QAAAO;;;;6ECvCfT,EAAAC,EAAAC,GAAA,IAAAW,EAAAb,iuBAAA,IAAAA,EAAAO,EAAAL,EAAA,2BAAAW,EAAA,SAAAb,EAAAO,EAAAL,EAAA,oCAAAW,EAAA;;;;6ECAAb,EAAAC,EAAAC,GAAAF,EAAAO,EAAAL,EAAA,2BAAAY,IAAAd,EAAAO,EAAAL,EAAA,oCAAAa,IAAA,IAAAD,EAAA,WACA,IACAE,EADAC,KACAC,eADAD,KAEAE,MAAAC,IAEAL,EAAA,GACAD,EAAAO,eAAA;;;;2DCNArB,EAAAC,EAAAC,GAAA,IAAAoB,EAAAtB,iqBAAA,IAAAuB,EAAAvB,EAAAwB,EAAAF,GAAA,QAAAjB,KAAAiB,EAAA,YAAAjB,GAAA,SAAAC,GAAAN,EAAAO,EAAAL,EAAAI,EAAA,kBAAAgB,EAAAhB,KAAA,CAAAD,GAAstBH,EAAA,QAAAqB,EAAG;;;;0IC4DztB,MAAAE,KAAAzB,uCAAA,uCACc,CACb0B,KADa,WAEZ,MAAO,CACNC,OAAO,EACPC,UAAW,IACXC,IAAK,CACJD,UAAW,GAEZE,YAAa,EACbC,SAAS,GACTC,OAAO,GACPC,QAAQ,GACRC,KAAK,GACLC,KAAK,GACLC,OAAO,GACPC,SAAS,GACTC,OAAO,GACPC,OAAO,GACPC,IAAI,GACJC,UAAS,IAGXC,OAAQ,SAAUC,GAEjBC,QAAQC,IAAIF,GACZ1B,KAAKc,SAAWY,EAAOZ,SACvBd,KAAKe,OAASW,EAAOX,OACrBf,KAAKmB,OAASO,EAAOP,OACrBnB,KAAKsB,OAASI,EAAOJ,OACrBtB,KAAKsB,OAAStB,KAAK6B,UAAU7B,KAAKsB,QAClCtB,KAAKuB,IAAMO,UAAOP,IAClBQ,EAAIC,sBAAsB,CACxBC,MAAOjC,KAAKc,WAEdgB,UAAOI,WAAWlC,KAAKe,OACvBe,UAAOK,IAAIC,mBAAX,OAAAC,OAAqCrC,KAAKe,SAC1Cf,KAAKsC,kBACLtC,KAAKoB,SAAWU,UAAOS,OAAOpB,QAE/BqB,SAAS,WACRxC,KAAKgB,QAAQ,GACbyB,cAAczC,KAAKkB,MACnBY,UAAOI,WAAW,GAClBJ,UAAOK,IAAIC,mBAAX,OAAAC,OAAqCrC,KAAKe,UAE3C2B,OAAO,WACNf,QAAQC,IAAI5B,KAAKgB,SACD,QAAbhB,KAAKe,OACPf,KAAKwB,UAAW,EACG,GAAXxB,KAAKuB,KAAgC,GAArBvB,KAAKgB,QAAQ2B,OACrC3C,KAAKwB,UAAW,EAEhBxB,KAAKwB,UAAW,GAGlBoB,QAAQ,CAEPC,OAAQ,SAASC,GAChBnB,QAAQC,IAAIkB,EAAEC,OAAOpC,WACrBX,KAAKY,IAAID,UAAYmC,EAAEC,OAAOpC,WAE/BqC,WANO,SAMIF,GACV9C,KAAKa,YAAciC,EAAEC,OAAOrC,QAE7BuC,UATO,SASGH,GACT9C,KAAKa,YAAc,GAGpByB,gBAbO,WAcN,IAAIY,EAAOlD,KACX8B,UAAOqB,KAAKC,IAAI,SAACC,EAAIC,GACpB,GAAGD,EAAIE,KAAKL,EAAKnC,QAAQmC,EAAKlC,SAAWqC,EAAIF,KAAK,CACjDxB,QAAQC,IAAIsB,EAAKlC,SACjBkC,EAAKlC,QAAU,GAAGqB,OAAOmB,KAAKC,MAAMD,KAAKE,UAAUL,EAAIF,QACvD,IAAI,IAAIQ,EAAI,EAAEA,EAAET,EAAKlC,QAAQ2B,OAAOgB,IAChCT,EAAKlC,QAAQ2C,GAAGC,KAAKV,EAAKlC,QAAQ2C,EAAE,GAAGC,KAAK,IAC9CV,EAAKlC,QAAQ2C,GAAGE,MAAK,EAErBX,EAAKlC,QAAQ2C,GAAGE,MAAK,EAGvBX,EAAKlC,QAAQ,GAAG6C,MAAK,EAIrBX,EAAKlC,QAAQoC,IAAI,SAACC,EAAIC,GACR,MAAVD,EAAIO,OACNP,EAAIO,KAAK9B,UAAOgC,eAAeT,EAAIO,SAGrCjC,QAAQC,IAAI,eAAesB,EAAKlC,SAChCkC,EAAKhC,KAAO6C,YAAY,WACvB,GAAGb,EAAKlC,QAAQ2B,QAAQU,EAAIF,KAAKR,OAAO,CACvChB,QAAQC,IAAIsB,EAAKlC,SAEjBkC,EAAKlC,QAAQ,GAAGqB,OAAOmB,KAAKC,MAAMD,KAAKE,UAAUL,EAAIF,QAErD,IAAI,IAAIQ,EAAI,EAAEA,EAAET,EAAKlC,QAAQ2B,OAAOgB,IAChCT,EAAKlC,QAAQ2C,GAAGC,KAAKV,EAAKlC,QAAQ2C,EAAE,GAAGC,KAAK,IAC9CV,EAAKlC,QAAQ2C,GAAGE,MAAK,EAErBX,EAAKlC,QAAQ2C,GAAGE,MAAK,EAGvBX,EAAKlC,QAAQ,GAAG6C,MAAK,EAIrBX,EAAKlC,QAAQoC,IAAI,SAACC,EAAIC,GACR,MAAVD,EAAIO,OACNP,EAAIO,KAAK9B,UAAOgC,eAAeT,EAAIO,SAIrCI,WAAW,WACVjC,EAAIkC,aAAa,CAChBtD,UAA+B,IAApBuC,EAAKlC,QAAQ2B,OACxBuB,SAAU,KAEV,KAEF,KACFF,WAAW,WACVjC,EAAIkC,aAAa,CAChBtD,UAA+B,IAApBuC,EAAKlC,QAAQ2B,OACxBuB,SAAU,KAEV,QAEFhB,EAAK7B,QAAS,KAMjB8C,QAhFO,WAiFN,IAAIjB,EAAOlD,KACD8B,UAAOK,IAAIiC,SAAS,CAC1BC,MAAO,MACPd,GAAIL,EAAKnC,OACTuD,KAAMpB,EAAKjC,KACXsD,KAAM,SAACC,EAAOC,GAChB9C,QAAQC,IAAI4C,GACZ7C,QAAQC,IAAI6C,GACZ9C,QAAQC,IAAI,KAAO6C,EAAIJ,MAAQ,IAAMI,EAAIC,KAAO,MAASF,EAAW,KAAL,MAAa,QAAUC,EAAIE,UAE1FhD,QAAQC,IAAIE,UAAOqB,MACnB,IAAIyB,EAAM,EACN1D,GAAO,EACXY,UAAOqB,KAAKC,IAAI,SAACC,EAAIC,GACjBD,EAAIE,KAAKL,EAAKnC,SAChBY,QAAQC,IAAIyB,GACZnC,GAAO,EACPmC,EAAIF,KAAK0B,KAAKJ,IAEfG,MAEQ,GAAN1D,IACFS,QAAQC,IAAIgD,GACZ9C,UAAOqB,KAAKyB,GAAK,CAACE,UAAU,OAAOL,EAAIlB,GAAGc,MAAM,MAAMd,GAAGkB,EAAIlB,GAAGJ,KAAK,GAAG4B,SAAS,IAAIC,MAAQC,UAAUrB,KAAK,uBAC5GjC,QAAQC,IAAIE,UAAOqB,KAAKyB,GAAKzB,MAC7BrB,UAAOqB,KAAKyB,GAAKzB,KAAK0B,KAAKJ,GAC3B9C,QAAQC,IAAIE,UAAOqB,KAAKyB,GAAKzB,MAC7BD,EAAKlC,QAAQ,GAAGqB,OAAOmB,KAAKC,MAAMD,KAAKE,UAAU5B,UAAOqB,KAAKyB,GAAKzB,QAClExB,QAAQC,IAAIsB,EAAKlC,SACjBkC,EAAKZ,mBAENY,EAAKjC,KAAK,OAKbiE,UArHO,WAsHNnD,EAAImD,UAAU,CACVjD,MAAO,KACPkD,QAAS,cACTC,QAAS,SAAUC,GACXA,EAAIC,SACbvD,EAAIwD,WAAW,CACdC,IAAI,6BAEL7D,QAAQC,IAAI,WACIyD,EAAII,QACX9D,QAAQC,IAAI,cAMzBC,UAtIO,SAsII6D,GACV,IAAI9B,EAAO+B,SAASD,GAAe,IACnC,GAAIC,SAASD,GAAe,GAAG,CAC9B,IAAIpE,EAASqE,SAASD,GAAe,GACjCE,EAAMD,SAASD,EAAc,IAEjC,GADA9B,EAAOgC,EAAM,IAAMtE,EAAS,IACxBsE,EAAM,GAAI,CACbA,EAAMD,SAASD,EAAc,IAAM,GACnC,IAAIG,EAAOF,SAAUA,SAASD,EAAc,IAAK,IAGjD,GADA9B,EAAOiC,EAAO,KAAOD,EAAM,IACvBC,EAAO,GACVA,EAAOF,SAAUA,SAASD,EAAc,IAAK,IAAO,GAGpD9B,EAFU+B,SAAUA,SAAUA,SAASD,EAAc,IAAK,IAAO,IAEpD,IAAMG,EAAO,MAI7B,OAAOjC;;;;2DC7QV7E,EAAAC,EAAAC,GAAA,IAAA6G,EAAA/G,g9BAAA,IAAAgH,EAAAhH,EAAAwB,EAAAuF,GAAA,QAAA1G,KAAA0G,EAAA,YAAA1G,GAAA,SAAAC,GAAAN,EAAAO,EAAAL,EAAAI,EAAA,kBAAAyG,EAAAzG,KAAA,CAAAD,GAA8gCH,EAAA,QAAA8G,EAAG","file":"pages/message/ChatRoom.js","sourcesContent":["import { render, staticRenderFns } from \"./ChatRoom.vue?vue&type=template&id=6ce13673&scoped=true&\"\nimport script from \"./ChatRoom.vue?vue&type=script&lang=js&\"\nexport * from \"./ChatRoom.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ChatRoom.vue?vue&type=style&index=0&id=6ce13673&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../HBuilderX.2.2.2.20190816.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6ce13673\",\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"C:\\\\Users\\\\xch752\\\\Downloads\\\\HBuilderX.2.2.2.20190816.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('6ce13673', component.options)\n    } else {\n      api.reload('6ce13673', component.options)\n    }\n    module.hot.accept(\"./ChatRoom.vue?vue&type=template&id=6ce13673&scoped=true&\", function () {\n      api.rerender('6ce13673', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"hoda/pages/message/ChatRoom.vue\"\nexport default component.exports","export * from \"-!../../../HBuilderX.2.2.2.20190816.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../HBuilderX.2.2.2.20190816.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../HBuilderX.2.2.2.20190816.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../HBuilderX.2.2.2.20190816.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../HBuilderX.2.2.2.20190816.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./ChatRoom.vue?vue&type=template&id=6ce13673&scoped=true&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../../HBuilderX.2.2.2.20190816.full/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../HBuilderX.2.2.2.20190816.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../HBuilderX.2.2.2.20190816.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../HBuilderX.2.2.2.20190816.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../HBuilderX.2.2.2.20190816.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./ChatRoom.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../HBuilderX.2.2.2.20190816.full/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../HBuilderX.2.2.2.20190816.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../HBuilderX.2.2.2.20190816.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../HBuilderX.2.2.2.20190816.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../HBuilderX.2.2.2.20190816.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./ChatRoom.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport common from '../../common/globalVariable.js'\nexport default{\n\tdata(){\n\t\treturn {\n\t\t\theight:0,//高度\n\t\t\tscrollTop: 3000,\n\t\t\told: {\n\t\t\t\tscrollTop: 0\n\t\t\t},\n\t\t\tInputBottom: 0,\n\t\t\tfromNick:'',//昵称\n\t\t\tuserId:'',//用户ID\n\t\t\tmsgList:[],//消息链表\n\t\t\tbody:'',//发送消息体\n\t\t\tflag:'',//判断\n\t\t\tavatar:'',//头像\n\t\t\tmyAvatar:'',//我的头像\n\t\t\tisChat:'',//是否聊天\n\t\t\tsecond:'',//配对剩余秒数\n\t\t\tsex:'',//性别\n\t\t\tshowSend:true,//是否显示发送框\n\t\t}\n\t},\n\tonLoad: function (option) {\n\t\tvar  THAT = this;\n\t\tconsole.log(option)\n\t\tthis.fromNick = option.fromNick;\n\t\tthis.userId = option.userId;\n\t\tthis.avatar = option.avatar;\n\t\tthis.second = option.second;\n\t\tthis.second = this.timeStamp(this.second);\n\t\tthis.sex = common.sex;\n\t\tuni.setNavigationBarTitle({\n\t\t\t title: this.fromNick\n\t\t})\n\t\tcommon.isChatRoom=this.userId;\n\t\tcommon.nim.resetSessionUnread(`p2p-${this.userId}`);\n\t\tthis.initHistoryChat()\n\t\tthis.myAvatar = common.myInfo.avatar;\n\t},\n\tonUnload:function(){\n\t\tthis.msgList=[];\n\t\tclearInterval(this.flag);\n\t\tcommon.isChatRoom=''\n\t\tcommon.nim.resetSessionUnread(`p2p-${this.userId}`);\n\t},\n\tonShow:function(){\n\t\tconsole.log(this.msgList)\n\t\tif(this.userId=='4804'){\n\t\t\tthis.showSend = false;\n\t\t}else if(this.sex ==2 && this.msgList.length==0){\n\t\t\tthis.showSend = false;\n\t\t}else{\n\t\t\tthis.showSend = true;\n\t\t}\n\t},\n\tmethods:{\n\t\t//滚动\n\t\tscroll: function(e) {\n\t\t\tconsole.log(e.detail.scrollTop)\n\t\t\tthis.old.scrollTop = e.detail.scrollTop\n\t\t},\n\t\tInputFocus(e) {\n\t\t\tthis.InputBottom = e.detail.height\n\t\t},\n\t\tInputBlur(e) {\n\t\t\tthis.InputBottom = 0\n\t\t},\n\t\t//消息初始化\n\t\tinitHistoryChat(){\n\t\t\tvar THAT = this;\n\t\t\tcommon.msgs.map((cur,index)=>{\n\t\t\t\tif(cur.to===THAT.userId&&THAT.msgList != cur.msgs){\n\t\t\t\t\tconsole.log(THAT.msgList)\n\t\t\t\t\tTHAT.msgList = [].concat(JSON.parse(JSON.stringify(cur.msgs)));\t\t\n\t\t\t\t\tfor(let i = 1;i<THAT.msgList.length;i++){\n\t\t\t\t\t\tif(THAT.msgList[i].time-THAT.msgList[i-1].time<300000){\n\t\t\t\t\t\t\tTHAT.msgList[i].show=false;\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tTHAT.msgList[i].show=true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tTHAT.msgList[0].show=true;\n\t\t\t\t\t// if(THAT.msgList[THAT.msgList.length-1].time-THAT.msgList[THAT.msgList.length-2].time<300000){\n\t\t\t\t\t// \tTHAT.msgList[THAT.msgList.length-1].time=null;\n\t\t\t\t\t// }\n\t\t\t\t\tTHAT.msgList.map((cur,index)=>{\n\t\t\t\t\t\tif(cur.time!=null){\n\t\t\t\t\t\t\tcur.time=common.calcTimeHeader(cur.time);\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\tconsole.log('THAT.msgList',THAT.msgList);\n\t\t\t\t\tTHAT.flag = setInterval(()=>{\n\t\t\t\t\t\tif(THAT.msgList.length!=cur.msgs.length){\n\t\t\t\t\t\t\tconsole.log(THAT.msgList)\n\t\t\t\t\t\t\t// console.log(`THAT.msgList`,THAT.msgList.length,`cur.msgs`,cur.msgs.length)\n\t\t\t\t\t\t\tTHAT.msgList=[].concat(JSON.parse(JSON.stringify(cur.msgs)));\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tfor(let i = 1;i<THAT.msgList.length;i++){\n\t\t\t\t\t\t\t\tif(THAT.msgList[i].time-THAT.msgList[i-1].time<300000){\n\t\t\t\t\t\t\t\t\tTHAT.msgList[i].show=false;\n\t\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\t\tTHAT.msgList[i].show=true;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tTHAT.msgList[0].show=true;\n\t\t\t\t\t\t\t// if(THAT.msgList[THAT.msgList.length-1].time-THAT.msgList[THAT.msgList.length-2].time<300000){\n\t\t\t\t\t\t\t// \tTHAT.msgList[THAT.msgList.length-1].time=null;\n\t\t\t\t\t\t\t// }\n\t\t\t\t\t\t\tTHAT.msgList.map((cur,index)=>{\n\t\t\t\t\t\t\t\tif(cur.time!=null){\n\t\t\t\t\t\t\t\t\tcur.time=common.calcTimeHeader(cur.time);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t// console.log(`THAT.msgList`,THAT.msgList.length,`cur.msgs`,cur.msgs.length)\n\t\t\t\t\t\t\tsetTimeout(()=>{\n\t\t\t\t\t\t\t\tuni.pageScrollTo({\n\t\t\t\t\t\t\t\t\tscrollTop: THAT.msgList.length*150,\n\t\t\t\t\t\t\t\t\tduration: 0\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t},0)\n\t\t\t\t\t\t}\n\t\t\t\t\t},1000)\n\t\t\t\t\tsetTimeout(()=>{\n\t\t\t\t\t\tuni.pageScrollTo({\n\t\t\t\t\t\t\tscrollTop: THAT.msgList.length*150,\n\t\t\t\t\t\t\tduration: 0\n\t\t\t\t\t\t});\n\t\t\t\t\t},0) \n\t\t\t\t}else{\n\t\t\t\t\tTHAT.isChat = false;\n\t\t\t\t}\n\t\t\t})\n\t\t\t// THAT.old.scrollTop = THAT.msgList.length*75;\n\t\t},\n\t\t//发送消息\n\t\tsendMSG(){\n\t\t\tvar THAT = this;\n\t\t\tvar msg = common.nim.sendText({\n\t\t\t    scene: 'p2p',\n\t\t\t    to: THAT.userId,\n\t\t\t    text: THAT.body,\n\t\t\t    done: (error, msg)=>{\n\t\t\t\t\tconsole.log(error);\n\t\t\t\t\tconsole.log(msg);\n\t\t\t\t\tconsole.log('发送' + msg.scene + ' ' + msg.type + '消息' + (!error?'成功':'失败') + ', id=' + msg.idClient);\n\t\t\t\t\t// THAT.msgList.push(msg);\n\t\t\t\t\tconsole.log(common.msgs);\n\t\t\t\t\tvar ind = 0;\n\t\t\t\t\tvar flag = false;\n\t\t\t\t\tcommon.msgs.map((cur,index)=>{\n\t\t\t\t\t\tif(cur.to===THAT.userId){\n\t\t\t\t\t\t\tconsole.log(cur)\n\t\t\t\t\t\t\tflag = true;\n\t\t\t\t\t\t\tcur.msgs.push(msg);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tind++;\n\t\t\t\t\t})\n\t\t\t\t\tif(flag==false){\n\t\t\t\t\t\tconsole.log(ind);\n\t\t\t\t\t\tcommon.msgs[ind]={sessionId:'p2p-'+msg.to,scene:'p2p',to:msg.to,msgs:[],timetag:(new Date()).valueOf(),time:'NaN-NaN-NaN NaN:NaN'};\n\t\t\t\t\t\tconsole.log(common.msgs[ind].msgs);\n\t\t\t\t\t\tcommon.msgs[ind].msgs.push(msg);\n\t\t\t\t\t\tconsole.log(common.msgs[ind].msgs);\n\t\t\t\t\t\tTHAT.msgList=[].concat(JSON.parse(JSON.stringify(common.msgs[ind].msgs)));\n\t\t\t\t\t\tconsole.log(THAT.msgList);\n\t\t\t\t\t\tTHAT.initHistoryChat();\n\t\t\t\t\t}\n\t\t\t\t\tTHAT.body=\"\";\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t//显示模态弹窗\n\t\tshowModal(){\n\t\t\tuni.showModal({\n\t\t\t    title: '提示',\n\t\t\t    content: '下载APP体验更多功能',\n\t\t\t    success: function (res) {\n\t\t\t        if (res.confirm) {\n\t\t\t\t\t\tuni.navigateTo({\n\t\t\t\t\t\t\turl:'../../pagesB/DownloadApp'\n\t\t\t\t\t\t})\n\t\t\t\t\t\tconsole.log('用户点击确定');\n\t\t\t        } else if (res.cancel) {\n\t\t\t            console.log('用户点击取消');\n\t\t\t        }\n\t\t\t    }\n\t\t\t});\n\t\t},\n\t\t//时间戳\n\t\ttimeStamp( second_time ){\n\t\t\tvar time = parseInt(second_time) + \"秒\";  \n\t\t\tif( parseInt(second_time )> 60){  \n\t\t\t\tvar second = parseInt(second_time) % 60;  \n\t\t\t\tvar min = parseInt(second_time / 60);  \n\t\t\t\ttime = min + \"分\" + second + \"秒\";  \n\t\t\t\tif( min > 60 ){  \n\t\t\t\t\tmin = parseInt(second_time / 60) % 60;  \n\t\t\t\t\tvar hour = parseInt( parseInt(second_time / 60) /60 );  \n\t\t\t\t\t// time = hour + \"小时\" + min + \"分\" + second + \"秒\";  \n\t\t\t\t\ttime = hour + \"小时\" + min + \"分\";\n\t\t\t\t\tif( hour > 24 ){  \n\t\t\t\t\t\thour = parseInt( parseInt(second_time / 60) /60 ) % 24;  \n\t\t\t\t\t\tvar day = parseInt( parseInt( parseInt(second_time / 60) /60 ) / 24 );  \n\t\t\t\t\t\t// time = day + \"天\" + hour + \"小时\" + min + \"分\" + second + \"秒\"; \n\t\t\t\t\t\ttime = day + \"天\" + hour + \"小时\";\n\t\t\t\t\t}  \n\t\t\t\t}  \n\t\t\t}  \n\t\t\treturn time;          \n\t\t},\n\t}\n}\n","import mod from \"-!../../../HBuilderX.2.2.2.20190816.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../HBuilderX.2.2.2.20190816.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../HBuilderX.2.2.2.20190816.full/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../HBuilderX.2.2.2.20190816.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../HBuilderX.2.2.2.20190816.full/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../HBuilderX.2.2.2.20190816.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../HBuilderX.2.2.2.20190816.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./ChatRoom.vue?vue&type=style&index=0&id=6ce13673&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../HBuilderX.2.2.2.20190816.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../HBuilderX.2.2.2.20190816.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../HBuilderX.2.2.2.20190816.full/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../HBuilderX.2.2.2.20190816.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../HBuilderX.2.2.2.20190816.full/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../HBuilderX.2.2.2.20190816.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../HBuilderX.2.2.2.20190816.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./ChatRoom.vue?vue&type=style&index=0&id=6ce13673&scoped=true&lang=css&\""],"sourceRoot":""}